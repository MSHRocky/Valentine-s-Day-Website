<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Quiz üíñ</title>

<style>
/* ----- Body & Background ----- */
body {
  margin: 0;
  padding: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #ffb6c1, #ff4d6d);
  color: white;
  text-align: center;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  position: relative;
}

/* ----- Hearts / Lives ----- */
#lives {
  position: fixed;
  top: 20px;
  right: 20px;
  font-size: 24px;
  display: none;
}

/* ----- Container ----- */
#question-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  width: 90%;
  max-width: 700px;
}

/* ----- Question Text ----- */
.question {
  font-size: 2rem;
  text-shadow: 0 0 10px #fff;
  min-height: 60px;
}

/* ----- Options (Kahoot-style squares) ----- */
.options {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  width: 100%;
  justify-items: center;
}

button.option-btn {
  width: 100%;
  padding: 25px 20px;
  font-size: 18px;
  border-radius: 15px;
  border: none;
  background: linear-gradient(135deg, #ff758f, #ff4d6d);
  color: white;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  box-shadow: 0 0 10px rgba(255,105,135,0.5);
}

button.option-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 0 20px rgba(255,105,135,0.8);
}

/* ----- Free answer input ----- */
input[type="text"] {
  padding: 12px 20px;
  font-size: 18px;
  border-radius: 12px;
  border: none;
  width: 60%;
  text-align: center;
}

button.submit-btn {
  margin-top: 15px;
  padding: 12px 24px;
  font-size: 18px;
  border-radius: 12px;
  border: none;
  background: linear-gradient(135deg, #ff758f, #ff4d6d);
  color: white;
  cursor: pointer;
}

/* ----- Feedback Text ----- */
#feedback {
  font-size: 1.2rem;
  min-height: 50px;
  text-align: center;
}

/* ----- Shake animation for wrong answer ----- */
@keyframes shake {
  0% { transform: translate(0px); }
  25% { transform: translate(-10px); }
  50% { transform: translate(10px); }
  75% { transform: translate(-10px); }
  100% { transform: translate(0px); }
}

.shake {
  animation: shake 0.5s;
}

/* ----- Typing animation for feedback ----- */
.typing {
  border-right: 2px solid white;
  white-space: nowrap;
  overflow: hidden;
}

/* ----- Sparkle / Background effect ----- */
.sparkle {
  position: absolute;
  font-size: 16px;
  animation: floatSparkle 4s ease-in-out infinite;
  opacity: 0.8;
  pointer-events: none;
}

@keyframes floatSparkle {
  0% { transform: translateY(0) translateX(0); opacity: 0; }
  50% { opacity: 1; }
  100% { transform: translateY(-150px) translateX(30px); opacity: 0; }
}
</style>
</head>

<body>
<div id="lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>

<div id="question-container">
  <div id="question" class="question"></div>
  <div id="options" class="options"></div>
  <div id="feedback"></div>
</div>

<script>
// ----- Quiz Data -----
const quiz = [
  // Easy MC
  { q: "What is my favorite color?", options:["Red","Blue","Pink","Green"], answer: "Pink", type: "mc" },
  { q: "What is my favorite dessert?", options:["Cake","Ice Cream","Brownies","Pie"], answer: "Ice Cream", type: "mc" },
  { q: "Which movie do I love most?", options:["Titanic","Inception","The Notebook","Avatar"], answer: "The Notebook", type: "mc" },

  // Medium (text)
  { q: "What's my dream vacation spot?", answer: "Maldives", type: "text" },
  { q: "What's my favorite animal?", answer: "Cat", type: "text" },
  { q: "What is my hobby?", answer: "Gaming", type: "text" },

  // Hard (text)
  { q: "Name my favorite flower.", answer: "Rose", type: "text" },
  { q: "What‚Äôs my favorite song?", answer: "Everything is F*cked", type: "text" },
  { q: "What‚Äôs my favorite number?", answer: "7", type: "text" }
];

let currentQuestion = 0;
let lives = 3;
let heartsVisible = false;

// ----- Show Question -----
function showQuestion(){
  const q = quiz[currentQuestion];
  const questionEl = document.getElementById("question");
  const optionsEl = document.getElementById("options");
  const feedbackEl = document.getElementById("feedback");

  feedbackEl.innerHTML = "";
  optionsEl.innerHTML = "";

  questionEl.textContent = q.q;

  if(q.type === "mc"){
    q.options.forEach(opt=>{
      const btn = document.createElement("button");
      btn.textContent = opt;
      btn.className = "option-btn";
      btn.onclick = ()=> checkAnswer(opt);
      optionsEl.appendChild(btn);
    });
  } else if(q.type === "text"){
    const input = document.createElement("input");
    input.type = "text";
    input.placeholder = "Type your answer...";
    const submitBtn = document.createElement("button");
    submitBtn.textContent = "Submit";
    submitBtn.className = "submit-btn";
    submitBtn.onclick = ()=> checkAnswer(input.value);
    optionsEl.appendChild(input);
    optionsEl.appendChild(submitBtn);
  }
}

// ----- Typing Feedback -----
function typeFeedback(text){
  const feedbackEl = document.getElementById("feedback");
  feedbackEl.innerHTML = "";
  let i = 0;
  function typeChar(){
    if(i < text.length){
      feedbackEl.innerHTML += text.charAt(i);
      i++;
      setTimeout(typeChar, 35);
    }
  }
  typeChar();
}

// ----- Check Answer -----
function checkAnswer(ans){
  const q = quiz[currentQuestion];

  if(ans.trim().toLowerCase() === q.answer.toLowerCase()){
    currentQuestion++;
    if(currentQuestion < quiz.length){
      showQuestion();
    } else {
      window.location.href = "bonus.html"; // after 9 questions
    }
  } else {
    // Wrong answer shake
    const container = document.getElementById("question-container");
    container.classList.add("shake");
    setTimeout(()=> container.classList.remove("shake"), 500);

    // Show lives
    if(!heartsVisible){
      document.getElementById("lives").style.display = "block";
      heartsVisible = true;
    }

    lives--;
    document.getElementById("lives").textContent = "‚ù§Ô∏è".repeat(lives);

    typeFeedback(`It's ok love, we all make mistakes sometimes. Even angels like you deserve another chance. Hearts left: ${lives}`);

    if(lives === 0){
      window.location.href = "fail.html";
    }
  }
}

// ----- Sparkles -----
const sparkleEmojis = ["‚ú®","üí´","üíñ"];
function createSparkle(){
  const sparkle = document.createElement("div");
  sparkle.className = "sparkle";
  sparkle.style.left = Math.random()*window.innerWidth+"px";
  sparkle.style.top = Math.random()*window.innerHeight+"px";
  sparkle.style.fontSize = (15+Math.random()*15)+"px";
  sparkle.innerText = sparkleEmojis[Math.floor(Math.random()*sparkleEmojis.length)];
  document.body.appendChild(sparkle);
  setTimeout(()=> sparkle.remove(), 4000);
}
setInterval(createSparkle, 400);

showQuestion();
</script>
</body>
</html>
