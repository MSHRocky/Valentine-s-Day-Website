<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Quiz ðŸ’–</title>

<style>

/* ---------------- BODY ---------------- */
body {
  margin: 0;
  font-family: 'Trebuchet MS', sans-serif;
  background: linear-gradient(135deg, #ffb6c1, #ff4d6d);
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  overflow: hidden;
  text-align: center;
}

/* ---------------- PROGRESS BAR ---------------- */
#progress-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 8px;
  background: rgba(255,255,255,0.2);
}

#progress-bar {
  height: 100%;
  width: 0%;
  background: white;
  transition: width 0.5s ease;
}

/* ---------------- QUIZ BOX ---------------- */
#quiz-box {
  width: 90%;
  max-width: 750px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 25px;
  background: rgba(255,255,255,0.08);
  padding: 40px;
  border-radius: 25px;
  backdrop-filter: blur(10px);
  transition: opacity 0.4s ease;
}

/* ---------------- QUESTION ---------------- */
#question {
  font-size: 2rem;
  min-height: 60px;
  text-shadow: 0 0 15px white;
}

/* ---------------- OPTIONS (KAHOOT STYLE) ---------------- */
#options {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  width: 100%;
}

.option-btn {
  padding: 25px;
  font-size: 18px;
  border-radius: 15px;
  border: none;
  cursor: pointer;
  color: white;
  background: linear-gradient(135deg, #ff758f, #ff4d6d);
  transition: 0.2s;
}

.option-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 0 20px rgba(255,255,255,0.6);
}

/* ---------------- INPUT ---------------- */
input[type="text"] {
  padding: 14px;
  font-size: 18px;
  border-radius: 12px;
  border: none;
  width: 70%;
  text-align: center;
}

.submit-btn {
  margin-top: 15px;
  padding: 12px 25px;
  font-size: 18px;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  color: white;
  background: linear-gradient(135deg, #ff758f, #ff4d6d);
}

/* ---------------- FEEDBACK ---------------- */
#feedback {
  min-height: 60px;
  font-size: 1.2rem;
}

/* ---------------- LIVES ---------------- */
#lives {
  position: fixed;
  top: 20px;
  right: 25px;
  font-size: 26px;
  display: none;
}

/* ---------------- SHAKE ---------------- */
@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-8px); }
  50% { transform: translateX(8px); }
  75% { transform: translateX(-8px); }
  100% { transform: translateX(0); }
}

.shake {
  animation: shake 0.4s;
}

/* ---------------- FLOATING HEARTS ---------------- */
.floating-heart {
  position: absolute;
  bottom: -20px;
  font-size: 20px;
  animation: floatUp 6s linear infinite;
  opacity: 0.7;
}

@keyframes floatUp {
  0% { transform: translateY(0); opacity: 0; }
  50% { opacity: 1; }
  100% { transform: translateY(-120vh); opacity: 0; }
}

/* ---------------- BEATING HEART ---------------- */
.beat {
  animation: beat 1s infinite;
}

@keyframes beat {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}

/* ---------------- PARTICLE EXPLOSION ---------------- */
.particle {
  position: absolute;
  font-size: 20px;
  pointer-events: none;
  animation: explode 1.2s ease-out forwards;
}

@keyframes explode {
  from { transform: translate(0,0); opacity: 1; }
  to {
    transform: translate(var(--x), var(--y));
    opacity: 0;
  }
}

</style>
</head>
<body>

<div id="progress-container">
  <div id="progress-bar"></div>
</div>

<div id="lives"></div>

<div id="quiz-box">
  <div id="question"></div>
  <div id="options"></div>
  <div id="feedback"></div>
</div>

<script>

/* ---------------- QUIZ DATA ---------------- */

const quiz = [
  { q: "What is my favorite anime?",
    options: ["Naruto","One Piece","Attack On Titan","Dragon Ball"],
    answer: ["dragon ball"],
    type: "mc"
  },
   { q: "What is my greatest physical fear?",
    options: ["Needles","Cucumbers","Shamini Aunty","Small Tight Places"],
    answer: ["needles"],
    type: "mc"
  },
   { q: "What is my favourite physical feature about you?",
    options: ["Hips","Big Big BIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIG Bum Bum","Eyes","Feet"],
    answer: ["eyes"],
    type: "mc"
  },
  { q: "Where was I born?",
    answer: ["uk","united kingdom","london","essex","england"],
    type: "text"
  },
  { q: "What is my love language?",
    answer: ["Physical Touch", "physical touch", "Physical", "physical", "Touch", "touch", "Touching", "touching", "Physically Touching", "physically touching", "Physically touching"],
    type: "text"
  },
  { q: "What is my favourite movie?",
    answer: ["The Water Horse", "The water horse", "The Waterhorse", "The Waterhorse:Legend of the Deep", "The Water Horse:Legend of the Deep", "Our movies", "Our Movies", "Ghilli", "ghilli"],
    type: "text"
  },
  { q: "What is my type?",
    answer: ["me","suyani","suya","suyani suthakaran"],
    type: "text"
  },
  { q: "Who is my favourite English film actor?",
    answer: ["Adam Sandler", "adam sandler", "Adam sandler", "Adam", "adam", "sandler", "Sandler"],
    type: "text"
  },
  { q: "What are one of my dealbreakers in a relationship?",
    answer: ["Disrespect", "disresepct", "Lack of communication", "Lack Of Communication", "Lack of Communication", "Disloyalty", "disloyalty", "Cheating", "cheating", "Lieing", "lieing", "Materialistic", "materialistic", "Materialism", "materialism", "Narrow Minded", "narrrow minded", "Narrow minded", "Narrow-minded"],
    type: "text"
  }
];

let currentQuestion = 0;
let lives = 3;
let mistakes = 0;
let heartsVisible = false;

/* ---------------- SHOW QUESTION ---------------- */

function showQuestion() {

  const q = quiz[currentQuestion];
  const questionEl = document.getElementById("question");
  const optionsEl = document.getElementById("options");
  const feedbackEl = document.getElementById("feedback");

  feedbackEl.innerHTML = "";
  optionsEl.innerHTML = "";
  questionEl.textContent = q.q;

  document.getElementById("progress-bar").style.width =
    (currentQuestion / quiz.length) * 100 + "%";

  if (q.type === "mc") {
    q.options.forEach(option => {
      const btn = document.createElement("button");
      btn.textContent = option;
      btn.className = "option-btn";
      btn.onclick = () => checkAnswer(option);
      optionsEl.appendChild(btn);
    });
  } else {
    const input = document.createElement("input");
    input.type = "text";
    input.placeholder = "Type your answer...";
    const submitBtn = document.createElement("button");
    submitBtn.textContent = "Submit";
    submitBtn.className = "submit-btn";
    submitBtn.onclick = () => checkAnswer(input.value);
    optionsEl.appendChild(input);
    optionsEl.appendChild(submitBtn);
  }
}

/* ---------------- TYPING EFFECT ---------------- */

function typeText(text) {
  const feedbackEl = document.getElementById("feedback");
  feedbackEl.innerHTML = "";
  let i = 0;
  function type() {
    if (i < text.length) {
      feedbackEl.innerHTML += text.charAt(i);
      i++;
      setTimeout(type, 25);
    }
  }
  type();
}

/* ---------------- CHECK ANSWER ---------------- */

function checkAnswer(userAnswer) {

  const q = quiz[currentQuestion];
  const normalized = userAnswer.trim().toLowerCase();
  const correct = q.answer.some(ans => ans.toLowerCase() === normalized);

  if (correct) {

    typeText("Correct my love ðŸ’–");

    document.getElementById("quiz-box").style.boxShadow =
      "0 0 40px white";

    setTimeout(() => {
      document.getElementById("quiz-box").style.boxShadow = "none";
      currentQuestion++;

      if (currentQuestion < quiz.length) {
        document.getElementById("quiz-box").style.opacity = 0;
        setTimeout(() => {
          showQuestion();
          document.getElementById("quiz-box").style.opacity = 1;
        }, 400);
      } else {
        winGame();
      }
    }, 900);

  } else {

    mistakes++;
    document.getElementById("quiz-box").classList.add("shake");
    setTimeout(() =>
      document.getElementById("quiz-box").classList.remove("shake"), 400);

    if (!heartsVisible) {
      document.getElementById("lives").style.display = "block";
      heartsVisible = true;
    }

    lives--;
    document.getElementById("lives").innerHTML =
      "â¤ï¸".repeat(lives);

    if (lives === 0) {
      typeText("Oh no babyâ€¦ youâ€™ve run out of hearts ðŸ’”");
      setTimeout(() => window.location.href = "fail.html", 2000);
      return;
    }

    typeText("It's ok love, try again. Hearts left: " + lives);
  }
}

/* ---------------- WIN GAME ---------------- */

function winGame() {

  document.body.innerHTML =
  `<div style="display:flex;justify-content:center;align-items:center;height:100vh;flex-direction:column;">
    <h1 style="font-size:3rem;text-shadow:0 0 25px white;">
      ${mistakes === 0 ? "Perfect Score For A Perfect Girl! ðŸ‘‘ðŸ’–" : "Perfect Score For A Perfect Girl! ðŸ‘‘ðŸ’–"}
    </h1>
  </div>`;

  romanticExplosion();

  setTimeout(() => {
    window.location.href = "pass.html";
  }, 3500);
}

/* ---------------- PARTICLE EXPLOSION ---------------- */

function romanticExplosion() {
  for (let i = 0; i < 60; i++) {
    const particle = document.createElement("div");
    particle.className = "particle";
    particle.innerText = ["ðŸ’–","âœ¨","ðŸ’•"][Math.floor(Math.random()*3)];
    particle.style.left = "50%";
    particle.style.top = "50%";
    particle.style.setProperty("--x", (Math.random()*600 - 300) + "px");
    particle.style.setProperty("--y", (Math.random()*600 - 300) + "px");
    document.body.appendChild(particle);
    setTimeout(() => particle.remove(), 1200);
  }
}

/* ---------------- FLOATING HEARTS LOOP ---------------- */

setInterval(() => {
  const heart = document.createElement("div");
  heart.className = "floating-heart beat";
  heart.innerText = "â¤ï¸";
  heart.style.left = Math.random() * window.innerWidth + "px";
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 6000);
}, 800);

/* ---------------- START ---------------- */

showQuestion();

</script>
<!-- Audio element -->
  <audio id="backgroundMusic" autoplay>
    <source src="nonjudge.mp3" type="audio/mpeg">
    Your browser does not support the audio tag.
  </audio>

  <script>
    function nextPage(page) {
      window.location.href = page;
    }

    // Ensure audio plays automatically when page loads
    document.addEventListener('DOMContentLoaded', () => {
      const backgroundMusic = document.getElementById('backgroundMusic');
      backgroundMusic.play().catch(error => {
        console.log("Autoplay prevented. User interaction needed.", error);
      });
    });
  </script>

</body>
</html>
